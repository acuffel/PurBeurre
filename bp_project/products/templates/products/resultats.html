{% extends 'base.html' %}
{% load static %}

{% block content %}

<!-- Masthead-->
        <header class="masthead" style="background: url('{{ product.url_picture }}'); min-height: 20rem; height: 30vh;">
            <div class="container h-30">
                <div class="row h-100 align-items-center justify-content-center text-center">
                    <div class="col-lg-10 align-self-end">
                        <h1 class="text-uppercase text-white font-weight-bold">{{ product.product_name }}</h1>
                        <hr class="divider my-4" />
                    </div>
                </div>
            </div>
        </header>


        <section class="page-section p-4" id="resultats">
            <div class="container">
                <h2 class="text-center mt-0">Vous pouvez remplacer cet aliment par</h2>
                <hr class="divider my-4" />
                {% if substitutes|length_is:"0" %}
                <div class="row">
                    <div class="text-center">
                     <p class="text-muted"> Palsambleu ! Nous n'avons trouvé aucun résultat à cette requête. Même pas de quoi se ronger la chique !
                      Partez de nouveau à l'abordage ! </p>
                    </div>
                </div>
                {% else %}

                <div class="row text-center m-1 p-1">
                    {% for substitute in substitutes %}
                    <div class="col-3 text-center m-1">
                        <p>{{ substitute.product_name }}</p>
                        <a href="{% url 'products:substitute' product_id=substitute.id %}">
                        <img class="img-responsive" src="{{ substitute.url_picture_small }}" alt="{{ substitute.product_name }}">
                         </a>
                     </div>
                    {% if forloop.counter|divisibleby:3 %}<div class="clearfix"></div>{% endif %}
                    {% endfor %}
                    </div>
                {% endif %}
            </div>
        </section>


{% endblock %}